var Menu=function(){var s=$('<div class="menu"></div>'),n=$('<ul class="nav"><li class="file" id="file">文件(F)</li><li class="edit" id="edit">编辑(E)</li><li class="layout" id="layout">格式(O)</li><li class="search" id="search">查看(V)</li><li class="help" id="help">帮助(H)</li></ul>');s.append(n);var l=$('<ul class="file2" id="file2"><li class="menuitem">&nbsp;&nbsp;&nbsp;新建(N)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+N</li><li class="menuitem">&nbsp;&nbsp;&nbsp;打开(O)...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+O</li><li class="menuitem">&nbsp;&nbsp;&nbsp;保存(S)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+S</li><li class="menuitem">&nbsp;&nbsp;&nbsp;另存为(A)...</li><li class="menuitem"><hr></li><li class="menuitem">&nbsp;&nbsp;&nbsp;页面设置(U)...</li><li class="menuitem">&nbsp;&nbsp;&nbsp;打印(P)...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+P</li><li class="menuitem"><hr></li><li class="menuitem">&nbsp;&nbsp;&nbsp;退出(X)</li></ul>');s.append(l);var e=$('<ul class="edit2" id="edit2"><li class="menuitem">&nbsp;&nbsp;&nbsp;撤销(U)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+Z</li><li class="menuitem"><hr></li><li class="menuitem">&nbsp;&nbsp;&nbsp;剪切(T)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+X</li><li class="menuitem">&nbsp;&nbsp;&nbsp;复制(C)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+C</li><li class="menuitem">&nbsp;&nbsp;&nbsp;粘贴(P)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+V</li><li class="menuitem">&nbsp;&nbsp;&nbsp;删除(L)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Del</li><li class="menuitem"><hr></li><li class="menuitem">&nbsp;&nbsp;&nbsp;使用Bing搜索...Ctrl+E</li><li class="menuitem">&nbsp;&nbsp;&nbsp;查找(F)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+F</li><li class="menuitem">&nbsp;&nbsp;&nbsp;查找下一个(N)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F3</li><li class="menuitem">&nbsp;&nbsp;&nbsp;替换(R)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+H</li><li class="menuitem">&nbsp;&nbsp;&nbsp;转到(G)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+G</li><li class="menuitem"><hr></li><li class="menuitem">&nbsp;&nbsp;&nbsp;全选(A)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+A</li><li class="menuitem">&nbsp;&nbsp;&nbsp;时间/日期(D)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F5</li></ul>');s.append(e);var p=$('<ul class="layout2" id="layout2"><li class="menuitem2">自动换行(W)</li><li id="font" class="menuitem2">字体(F)...</li></ul>');s.append(p);var i=$('<ul class="search2" id="search2"><li class="menuitem2">状态栏(S)</li></ul>');s.append(i);var a=$('<ul class="help2" id="help2"><li class="menuitem2">查看帮助(H)</li><li class="menuitem2">关于记事本(A)</li></ul>');s.append(a),$("body").append(s),$("#file").click(function(){$("#file2").css("display","block"),$("#edit2").css("display","none"),$("#layout2").css("display","none"),$("#search2").css("display","none"),$("#help2").css("display","none")}),$("#edit").click(function(){$("#edit2").css("display","block"),$("#file2").css("display","none"),$("#layout2").css("display","none"),$("#search2").css("display","none"),$("#help2").css("display","none")}),$("#layout").click(function(){$("#layout2").css("display","block"),$("#file2").css("display","none"),$("#edit2").css("display","none"),$("#search2").css("display","none"),$("#help2").css("display","none")}),$("#search").click(function(){$("#search2").css("display","block"),$("#file2").css("display","none"),$("#edit2").css("display","none"),$("#layout2").css("display","none"),$("#help2").css("display","none")}),$("#help").click(function(){$("#help2").css("display","block"),$("#file2").css("display","none"),$("#edit2").css("display","none"),$("#layout2").css("display","none"),$("#search2").css("display","none")})},Editor=function(){var s=$('<div class="notepad-editor"><textarea id="textVal" spellcheck="false" auto-size="none"></textarea></div>');$("body").append(s),s.click(function(){$("#file2").css("display","none"),$("#edit2").css("display","none"),$("#layout2").css("display","none"),$("#search2").css("display","none"),$("#help2").css("display","none")})},List=function(){var s=["Agency FB","Algerian","Arial","Arial Rounded MT","Axure Handwriting","Bahnschrift","Baskerville Old Face","Bauhaus 93","Bell MT","Berlin Sans FB","Bernard MT","BlackAdder ITC"],n=["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"],l=[],e=[],p=$('<div class="mask font" id="mask"></div>'),i=$('<div class="dialogbox dlgbox" ></div>'),a=$('<div class="main notepad-dlg-main"></div>'),t=$('<div class="titlebar"></div>'),c=$('<p class="title">字体</p>'),b=$('<p class="close-btn" title="关闭">×</span>');t.append(c),t.append(b),i.append(t);for(var o=$('<div class="font-family"></div>'),d=$('<ul class="list"></ul>'),m=$("<span>字体(F):</span>"),u=$('<input type="text" class="text" value="Arial">'),r=0;r<s.length;r++)l.push($('<li style="font-family:'+s[r]+';list-style:none;" class="item">'+s[r]+"</li>"));for(r=0;r<l.length;r++)d.append(l[r]);o.append(m),o.append(u),o.append(d),a.append(o);for(r=0;r<l.length;r++)!function(s){$(l[s]).click(function(){u.val(l[s][0].innerHTML),$("#example").css("font-family",l[s][0].innerHTML)})}(r);var f=$('<div class="font-style"></div>'),y=$("<span>字形(Y):</span>"),h=$('<input type="text" class="text" value="常规">'),v=$('<ul class="list"><li style="list-style:none;" class="item">常规</li><li style="font-style:italic;list-style:none;" class="item">斜体</li><li style="font-weight:bold;list-style:none;" class="item">粗体</li><li style="font-style:italic;font-weight:bold;list-style:none;" class="item">粗偏斜体</li></ul>');f.append(y),f.append(h),f.append(v),a.append(f),$(v[0].children[0]).click(function(){h.val(v[0].children[0].innerHTML),$("#example").css("font-style","normal"),$("#example").css("font-weight","normal")}),$(v[0].children[1]).click(function(){h.val(v[0].children[1].innerHTML),$("#example").css("font-style","italic"),$("#example").css("font-weight","normal")}),$(v[0].children[2]).click(function(){h.val(v[0].children[2].innerHTML),$("#example").css("font-style","normal"),$("#example").css("font-weight","bold")}),$(v[0].children[3]).click(function(){h.val(v[0].children[3].innerHTML),$("#example").css("font-style","italic"),$("#example").css("font-weight","bold")});var x=$('<div class="font-size"></div'),g=$('<ul class="list"></ul>'),k=$("<span>大小(S):</span>"),w=$('<input type="text" class="text" value="16">');for(r=0;r<n.length;r++)e.push($('<li style="list-style:none;" class="item">'+n[r]+"</li>"));for(r=0;r<e.length;r++)g.append(e[r]);x.append(k),x.append(w),x.append(g),a.append(x);for(r=0;r<e.length;r++)!function(s){$(e[s]).click(function(){w.val(e[s][0].innerHTML),$("#example").css("font-size",e[s][0].innerHTML+"px")})}(r);var V=$('<fieldset class="examplebox"></fieldset>'),C=$("<legend>示例</legend>"),B=$('<p class="example" id="example">AaBbYyZz</p>');V.append(C),V.append(B),a.append(V);var M=$('<div class="script"><label>脚本(R):<br><select><option value="西欧语言">西欧语言</option><option value="中文 GB2312">中文 GB2312</option></select></label></div>');a.append(M);var T=$('<input type="button" class="btn1" value="确定">'),A=$('<input type="button" class="btn2" value="取消">');a.append(T),a.append(A),i.append(a),p.append(i),$("body").append(p),p.find(".dialogbox").draggable({handle:t}),b.click(function(){$("#mask").css("display","none")}),T.click(function(){$("#textVal").css("font-family",u.val()),"常规"==h.val()?($("#textVal").css("font-style","normal"),$("#textVal").css("font-weight","normal")):"斜体"==h.val()?($("#textVal").css("font-style","italic"),$("#textVal").css("font-weight","normal")):("粗体"==h.val()?$("#textVal").css("font-style","normal"):$("#textVal").css("font-style","italic"),$("#textVal").css("font-weight","bold")),$("#textVal").css("font-size",w.val()+"px"),$("#mask").css("display","none")}),A.click(function(){$("#mask").css("display","none");var s=$("#textVal").css("font-family");0==s.indexOf('"')?(u.val(s.match(/(?<=\")(.*)(?=\")/g)),$("#example").css("font-family",s.match('"[^"]*"'))):(u.val(s),$("#example").css("font-family",s)),"normal"==$("#textVal").css("font-style")?400==$("#textVal").css("font-weight")?(h.val("常规"),$("#example").css("font-style","normal"),$("#example").css("font-weight","normal")):(h.val("粗体"),$("#example").css("font-style","normal"),$("#example").css("font-weight","bold")):400==$("#textVal").css("font-weight")?(h.val("斜体"),$("#example").css("font-style","italic"),$("#example").css("font-weight","normal")):(h.val("粗偏斜体"),$("#example").css("font-style","italic"),$("#example").css("font-weight","bold"));var n=$("#textVal").css("font-size");w.val(n.match(/\d+/g)[0]),$("#example").css("font-size",n)})};$(function(){new Menu,new Editor,new List;$("#font").click(function(){$("#mask").css("display","block"),$("#layout2").css("display","none")})});